{
	"id": 30479,
	"version": 21,
	
	"old_ids": [40010],
    "old_sites": ["nhentai.net"],
	
	"host": "https://nhentai.to/",
	"public_link": "https://nhentai.to/",
	
	
	
	"title": "nHentai",
	
	"folder": "nhentai",
	"name" : ["nhen", "nhentai"],
	"chapters_order": false,
	"language": "en",
	"is_mature": true,
	"is_paid": true,
	
	
	"skip_catalog_test": false,
	"icon_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/img/nhentai.png",
	"self_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/parsers/nhentai.json",
	"self_link2": "https://fant.my1.ru/mwparser/mwx/json/nhentai.json",
	"catalog_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/catalogs/nhentai.zip",
    "file_type": "sqlite",
	

	"manga_list_complete": {

		"iterator": {
			"base_url": "https://nhentai.to/?page=",
			"append_nums": { "from": 1, "to": 15000, "step": 1, 
			"last_page": {"before": "class=\"last\"", "token1": "?page=", "token2": "\""}  }
		},

		"add_manga": { 
			"next": "div class=\"gallery\"",
			"link":  { "token1": "<a href=\"", "token2": "\"" }, 
			"title": { "token1": "caption\">", "token2": "</div>" }
		},
		
		"rating_auto_inc": {
			"start": "1000000",
			"inc": -1
		}
	},

	"manga_complete": {
		"title":       { "skip": "<div id=\"info\">", "token1":"<h1>", "token2": "</h1>" },
		"uniq":        { "skip": "id=\"info-block\">", "token1":"<h1>", "token2": "</h1>" },
		
		"author":      { "after": "<a href=\"/artist/", "token1":"\">", "token2": "</a>" },
		
		"summary":     { "skip": "<a href=\"/language", "token1": "/", "token2": "/\"",
                "replace" : { "prefix": "Language: " } },
		"status":      { "single": [ "download"], "ongoing": "перевод продолжается<" },
		"read_dir":    { "right_to_left": "doujinshi and manga", "left_to_right": "notmanga" },
		"cover":       { "skip": "<div id=\"cover\">", "token1": "data-src=\"", "token2": "\"" },
		
		"add_genres": {
			"start": "Languages",
			"end": "</span>",
			"after": "<a href=\"/language/",
			"token1": "\">",
			"token2": "</",
			"replace" : [ 
		{ "match" : "-", "text" : " " },
		{ "match" : "translated", "text" : "language: translated" },
		{ "match" : "chinese", "text" : "language: chinese" },
		{ "match" : "english", "text" : "language: english" },
		{ "match" : "japanese", "text" : "language: japanese" },
		{ "match" : "russian", "text" : "language: russian" } 
		  ]
		},
		
		"add_tag": {
			"after": "href=\"/tag/",
			"token1": "\">",
			"token2": "</"
		},
		
		
		"add_chapter": { 
			"next":  "id=\"cover\">", 
			"link":  { "token1": "<a href=\"", "token2": "1/\">" }, 
			"title": "Single"
		}
	},
	
	"chapter_complete": {
		"add_images": { 
			"start": "<div class=\"container\" id=\"thumbnail-container\">", 
			"token1": "data-src=\"", 
			"token2": "\"",
			"end": "</body>"
		}
	},

	"test": [
		{
			"proc" : "manga_list_complete",
			"testpages": 10,
			"assert" : {
				"mangas" : [
					{ "title" : "@^(\\[)", "link" : "@https:" }
				],
				"mangas_count" : ">=100"
			}
		},
		{
			"proc" : "manga_complete",
			"link" : "https://nhentai.to/g/324616",
			"title" : "[Nagashima Chosuke] 3.5 Kai no Nozoki Ana [Chinese]",
			"assert" : {
				"author" : "@nagashima chosuke",
				"cover" : "https://t.dogehls.xyz/galleries/1707684/cover.jpg",
				"summary" : "@^chinese",
				"genres" : "[doujinshi]",
				"status" : "single",
				"genres_count" : ">=0",
				"chapters_count" : ">=1",
				"chapters" : [
					{ 
		"folder": "324616/",
        "link": "https://nhentai.to/g/324616/",
        "title": "Single"
					}
				]
			}
		},
		
		{
			"proc" : "chapter_complete",
			"link": "https://nhentai.to/g/324616/", 
			"assert" : {
				"pages" : [
		{"image": "https://t.dogehls.xyz/galleries/1707684/1t.jpg"},
        {"image": "https://t.dogehls.xyz/galleries/1707684/2t.jpg"},
        {"image": "https://t.dogehls.xyz/galleries/1707684/3t.jpg"}
				],
				"pages_count": "188"
			}
		}
	]
}