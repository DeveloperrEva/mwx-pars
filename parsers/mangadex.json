{
	"id": 30435,
	"old_ids": [20569],
	"version": 10,
	"title": "MangaDex (test)",
	"host": "https://mangadex.org/",
	"public_link": "https://mangadex.org/",
	"folder": "mangadex",
	"name": "mangadex",
	"language": "en",
	"chapters_order": false,
	"skip_catalog_test": false,
	"icon_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/img/mangadex.png",
	"self_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/parsers/mangadex.json",
	"self_link2": "https://fant.my1.ru/mwparser/mwx/json/mangadex.json",
	"catalog_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/catalogs/mangadex.zip",
	"file_type": "sqlite",
	"author": {
		"name": "Veopot & Lomik_XP",
		"email": "fant-net@ya.ru"
	},
	"authorization_complete": {
		"logo": "https://raw.githubusercontent.com/veopot/mwx-json/main/img/mangadex.png",
		"registration": "https://mangadex.org/signup",
		"expires": 31449600000,
		"values": {
			"two_factor": "",
			"remember_me": "1",
			"login_username": {
				"label": "Login",
				"kind": "login"
			},
			"login_password": {
				"label": "Password",
				"kind": "password"
			},
			
			"mangadex_h_toggle": {
				"forward": "cookie",
				"value": "1"
			}
			
		},
		"request": {
			"method": "post",
			"url": "https://mangadex.org/ajax/actions.ajax.php?function=login",
			"headers": {
				"x-requested-with": "XMLHttpRequest"
			}
		},
		"response_check": {
			"cookies": {
				"mangadex_rememberme_token": "@\\w+",
				"mangadex_session": "@\\w+"
			},
			"headers": {
				"Set-Cookie": "@mangadex_rememberme_token=\\w+"
			}
		}
	},
	"manga_list_complete": {
	"headers": {
			"cookie": "mangadex_h_toggle=1"
		},
		
		"iterator": {
			"base_url": "https://mangadex.org/titles/7/",
			"append_nums": {
				"from": 1,
				"to": 1075,
				"step": 1
			}
		},
		"add_manga": {
			"next": "<a href=\"/title/",
			"title": {
				"skip": "</span></div>",
				"token1": "\">",
				"token2": "</"
			},
			"uniq": {
				"skip": "</span></div>",
				"token1": "\">",
				"token2": "</"
			},
			"link": {
				"token1": "href=\"",
				"token2": "\"",
				"replace": {
					"prefix": "https://mangadex.org"
				}
			}
		}
	},
	"manga_complete": {
		"headers": {
			"cookie": "mangadex_h_toggle=1"
		},
		"title": {
			"skip": "<h6",
			"token1": "class=\"mx-1\">",
			"token2": "</"
		},
		"uniq": {
			"skip": "<h6",
			"token1": "class=\"mx-1\">",
			"token2": "</"
		},
		"additional_title": {
			"skip": ">Alt name(s):<",
			"token1": "'>",
			"token2": "</ul"
		},
		"author": {
			"skip": ">Author:<",
			"token1": "\">",
			"token2": "</"
		},
		"summary": {
			"after": "Description:<",
			"token1": "\">",
			"token2": "</"
		},
		"status": {
			"complete": ">Completed<",
			"ongoing": ">Ongoing<"
		},
		"cover": {
			"after": "card-header",
			"token1": "src=\"",
			"token2": "\""
		},
		"is_mature": "<span class='badge badge-danger ml-1'>H</span>",
		"add_genre": {
			
			"after": "href='/genre/",
			"token1": "'>",
			"token2": "</a>",
			
			"replace": { "match": "<.*?>",	"text": ""}
		},
		"add_tag": {
			
			"after": "href='/genre/",
			"token1": "'>",
			"token2": "</a>",
			
			"replace": { "match": "<.*?>",	"text": ""}
		},
		"chapters_from_page": {
			"skip": ">Title ID:</div>",
			"token1": "' ></span>",
			"token2": "</",
			"replace": {
				"match": " ",
				"text": "",
				"prefix": "https://api.mangadex.org/v2/manga/",
				"sufix": "/chapters"
			}
		},
		"add_chapter": {
			"start": "\"chapters\":[",
			"next": "{\"",
			"link": {
				"token1": "id\":",
				"token2": ",",
				"replace": {
					"prefix": "https://api.mangadex.org/v2/chapter/"
				}
			},
			"lang": {"token1": "\"language\":\"", "token2": "\"", "replace": [
				{ "match": "\\b(en|gb)\\b", "text": "English" },
				{ "match": "\\b(ja|jp)\\b", "text": "Japanese" },
				{ "match": "\\bpl\\b", "text": "Polish" },
				{ "match": "\\b(sh|rs)\\b", "text": "SerboCroatian" },
				{ "match": "\\bnl\\b", "text": "Dutch" },
				{ "match": "\\bit\\b", "text": "Italian" },
				{ "match": "\\bru\\b", "text": "Russian" },
				{ "match": "\\bde\\b", "text": "German" },
				{ "match": "\\bhu\\b", "text": "Hungarian" },
				{ "match": "\\bfr\\b", "text": "French" },
				{ "match": "\\bfi\\b", "text": "Finnish" },
				{ "match": "\\b(vi|vn)\\b", "text": "Vietnamese" },
				{ "match": "\\b(el|gr)\\b", "text": "Greek" },
				{ "match": "\\bbg\\b", "text": "Bulgarian" },
				{ "match": "\\bes\\b", "text": "SpanishSpain" },
				{ "match": "\\b(pt-BR|br)\\b",  "text": "PortugueseBrazil" },
				{ "match": "\\bpt\\b", "text": "PortuguesePortugal" },
				{ "match": "\\b(sv|se)\\b", "text": "Swedish" },
				{ "match": "\\b(ar|sa)\\b", "text": "Arabic" },
				{ "match": "\\b(da|dk)\\b", "text": "Danish" },
				{ "match": "\\b(zh-Hans|cn)\\b", "text": "ChineseSimp" },
				{ "match": "\\b(bn|bd)\\b", "text": "Bengali" },
				{ "match": "\\bro\\b", "text": "Romanian" },
				{ "match": "\\b(cs|cz)\\b", "text": "Czech" },
				{ "match": "\\bmn\\b", "text": "Mongolian" },
				{ "match": "\\btr\\b", "text": "Turkish" },
				{ "match": "\\bid\\b", "text": "Indonesian" },
				{ "match": "\\b(ko|kr)\\b", "text": "Korean" },
				{ "match": "\\b(es-419|mx)\\b", "text": "SpanishLTAM" },
				{ "match": "\\b(fa|ir)\\b", "text": "Persian" },
				{ "match": "\\b(ms|my)\\b", "text": "Malay" },
				{ "match": "\\bth\\b", "text": "Thai" },
				{ "match": "\\b(ca|ct)\\b", "text": "Catalan" },
				{ "match": "\\bfil\\b", "text": "Filipino" },
				{ "match": "\\bph\\b",  "text": "Language  Filipino" },
				{ "match": "\\b(zh-Hant|hk)\\b", "text": "ChineseTrad" },
				{ "match": "\\b(uk|ua)\\b", "text": "Ukrainian" },
				{ "match": "\\b(my|mm)\\b", "text": "Burmese" },
				{ "match": "\\b(lt|il)\\b", "text": "Lithuanian" },
				{ "match": "\\b(he|il)\\b", "text": "Hebrew" },
				{ "match": "\\b(hi|in)\\b", "text": "Hindi" },
				{ "match": "\\bno\\b", "text": "Norwegian" }
			]},
			"title": {
				"before": ",\"groups",
				"token1": "\"volume\":\"",
				"token2": ",\"groups",
				"replace": [
				    { "match": "\",\"chapter\":\"", "text": " - "},
                    { "match": "\",\"title\":\"(.*?)\",", "text": "$1"},
					{ "match": "\"language\":\".*?\"", "text": " %%chapter_lang%%"},
					{ "prefix": "Chapter "}
				]
			},
			"end": "],\"groups\""
		}
	},
	"chapter_complete": {
		"images": true,
		"use_servers_only": true,
		"prefix": {
			"after": "\"hash\"",
			"token1": ":\"",
			"token2": "\"",
			"stop": ",",
			"replace": {
				"sufix": "/"
			}
		},
		"add_servers": {
			"start": "\"server",
			"token1": ":\"",
			"token2": "\"",
			"next": "\"server",
			"end": "}",
			"replace": {
				"match": "\\\\",
				"text": ""
			}
		},
		"add_pages": {
			"start": "\"pages\":",
			"token1": "[\"",
			"token2": "\"],",
			"split": "\",\"",
			"end": "server"
		}
	},
	"test": [{
			"proc": "manga_list_complete",
			"testpages": "3",
			"assert": {
				"mangas": [{
					"title": "@^(\\w+)",
					"link": "@https:"
				}],
				"mangas_count": ">=50"
			}
		},
		{
			"proc": "manga_complete",
			"link": "https://mangadex.org/manga/39/one-piece",
			"title": "One Piece",
			"assert": {
				"additional_title": "Đảo Hải Tặc Wan Pīsu Ван Пис ون بيس ワンピース",
				"author": "@Oda Eiichiro",
				"cover": "@https://mangadex.org/images/manga/39.jpg?\\.*",
				"summary": "@^(Gol D. Roger)",
				"genres": "@comedy",
				"status": "ongoing",
				"genres_count": ">=5",
				"chapters_count": ">=300",
				"chapters": [{
						"title": "Ch. 893 - La 36TA Hija de la familia Charlotte - Flampe",
						"link": "https://mangadex.org/chapter/281236",
						"folder": "281236/"
					},
					{
						"title": "Ch. 893 - La 36° Hija De La Familia Charlotte - Flampe",
						"link": "https://mangadex.org/chapter/399008"
					}
				]
			}
		},
		{
			"proc": "manga_complete",
			"link": "https://mangadex.org/manga/11199/killing-bites",
			"title": "Killing Bites",
			"assert": {
				"additional_title": "キリングバイツ",
				"author": "@Murata Shinya",
				"cover": "@https://mangadex.org/images/manga/11199.jpg?\\.*",
				"summary": "@^(People have been)",
				"genres": "@comedy",
				"status": "ongoing",
				"genres_count": ">=8",
				"chapters_count": ">=20",
				"chapters": [{
						"title": "Chapter 57 Language mx",
						"link": "https://api.mangadex.org/v2/chapter/615666",
						"folder": "615666/"
					},
					{
						"title": "Vol. 1 Ch. 1 - You're better off not looking behind the curtain",
						"link": "https://mangadex.org/chapter/134380"
					}
				]
			}
		},
		{
			"proc": "chapter_complete",
			"link": "https://api.mangadex.org/v2/chapter/615666",
			"assert": {
				"pages": [{
						"link": "https://mangadex.org/chapter/277233/2"
					},
					{
						"link": "https://mangadex.org/chapter/277233/6"
					}
				]
			}
		}
	]
}